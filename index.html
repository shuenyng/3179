<!DOCTYPE html>
<html>
<head>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>

  <link rel="stylesheet" type="text/css" href="styles.css" media="all">
  
  <title>World Data 2023</title>

  <script src="graphs.js"></script> <!-- Include your JavaScript file here -->
</head>

<body>
  <div class="page" style="background-color: #edf2e9;">
    <h1 class="title">World Data 2023</h1>

    <!-- Chart Switching Container -->
    <div class="chart-container">
      <h2>World Data</h2>
      <p>Explore different data visualizations by clicking the buttons below:</p>
      <p>Imagine a population where life expectancy is high, birth rate is low, and fertility rate is below replacement. 
         The lack of resources to support the population could lead to an increase in poverty.</p>
      <div id="chart-container" style="text-align: center;">
        <div id="life_expectancy" style="display: block;"></div>
        <div id="infant_mortality" style="display: none;"></div>
        <div id="fertility_rate" style="display: none;"></div>
        <p>We can use the data below to understand the current state of a population and to predict its future growth. Hover around the maps below to predict how the population of your country will change in the next 50 years! </p>
      </div>
      <div id="chart-buttons">
        <button onclick="showChart('life_expectancy')">Life Expectancy</button>
        <button onclick="showChart('infant_mortality')">Infant Mortality</button>
        <button onclick="showChart('fertility_rate')">Fertility Rate</button>
      </div>
    </div>

    <!-- Maternal Mortality Chart -->
    <div class="chart-container" style="text-align: center;">
      <h2>Maternal Mortality</h2>
      <p>This chart highlights the challenges faced by expectant mothers in different parts of the world. At first glance, countries in Africa have the most number of maternal mortalities and least number of physicians. 
         On the contrary, Europe has the least amount of maternal mortalities along with a great number of physicians available.</p>
      <div id="maternal_mortality"></div>
      <p>Feel free to use the drop down menu below to filer your continent of interest!</p>
    </div>

    <!-- Birth Rate vs Fertility Rate Chart and Infant Mortality vs Life Expectancy Chart (side by side) -->
    <div class="chart-container" style="display: flex; justify-content: center; text-align: center;">
      <div style="flex: 1;">
        <h2>Birth Rate vs Fertility Rate</h2>
        <p>This chart helps you understand the relationship between number of birth and fertility rates. </p>
        <div id="birth_fertility"></div>
      </div>
      <div style="flex: 1;">
        <h2>Infant Mortality vs Life Expectancy</h2>
        <p>Explore the relationship between infant mortality and life expectancy.</p>
        <div id="infant_life"></div>
      </div>
      <p>There is a positive correlation between number of birth and fertility rates. The higher the fertility rate, the higher the number of births.  Conversely, a negative correlation between number of infant mortality and life expectancy. The higher the life expectancy, the lower the infant mortality.</p>
    </div>

    <!-- Unemployment Rate Chart -->
    <div class="chart-container" style="text-align: center;">
      <h2>Unemployment Rate</h2>
      <p>Look at the global unemployment statistics! This chart provides insights into employment trends and economic conditions worldwide.</p>
      <div id="unemployment_rate"></div>
      <p>Use the drop down menu here to filter out the top ranked countries of unemployment.</p>
    </div>

    <!-- Agricultural vs Forested Land Chart -->
    <div class="chart-container" style="text-align: center;">
      <h2>Agricultural vs Forested Land</h2>
      <p>Visualise the distribution of land use in various continents. This chart showcases how land is utilized for agriculture and forests in different regions.</p>
      <div id="stacked"></div>
    </div>
  </div>

  <script type="text/javascript">
    var currentChart = 'life_expectancy';

    function showChart(chartId) {
      document.getElementById(currentChart).style.display = 'none';
      document.getElementById(chartId).style.display = 'block';
      currentChart = chartId;
    }

    var spec1 = "life_expectancy.vega.json";
    vegaEmbed('#life_expectancy', spec1).catch(console.error);

    var spec2 = "infant_mortality.vega.json";
    vegaEmbed('#infant_mortality', spec2).catch(console.error);

    var spec3 = "fertility_rate.vega.json";
    vegaEmbed('#fertility_rate', spec3).catch(console.error);
    var graph3 = "maternal_mortality.vega.json";
    vegaEmbed('#maternal_mortality', graph3).catch(console.error);

    var graph4 = "birth_fertility.vega.json";
    vegaEmbed('#birth_fertility', graph4).catch(console.error);

    var graph5 = "infant_life.vega.json";
    vegaEmbed('#infant_life', graph5).catch(console.error);

    var graph6 = "unemployment_rate.vega.json";
    vegaEmbed('#unemployment_rate', graph6).catch(console.error);

    var graph7 = "stacked.vega.json";
    vegaEmbed('#stacked', graph7).catch(console.error);
  </script>
</body>
</html>
